<!DOCTYPE html>
<html lang="pt-br">
<head>
    <div id="gtm-head"></div>
<script>fetch("/partials/gtm-head.html")
 .then(r=>r.text()).then(h=>document.getElementById("gtm-head").innerHTML=h);</script>
    <meta charset="UTF-8">
    <title>Consultoria Financeira Empresarial | Diagnóstico Gratuito</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,600,700&display=swap" rel="stylesheet">
    <style>
        :root {
            --w1-green: #33E0CB;
            --w1-blue-dark: #07151A;
            --w1-blue-light: #73A09F;
            --w1-bg: #f6fcfb;
        }
        body {
            font-family: 'Montserrat', Arial, sans-serif;
            background: var(--w1-bg);
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 48px auto 0 auto;
            background: #fff;
            border-radius: 20px;
            box-shadow: 0 6px 36px rgba(7,21,26,0.09);
            padding: 38px 32px 28px 32px;
            border: 2.5px solid var(--w1-green);
        }
        h1 {
            color: var(--w1-blue-dark);
            font-size: 2.0rem;
            text-align: center;
            margin-bottom: 14px;
            font-weight: 700;
            letter-spacing: -1px;
        }
        .subheadline {
            color: var(--w1-blue-light);
            font-size: 1.04rem;
            text-align: center;
            margin-bottom: 28px;
        }
        form {
            display: flex;
            flex-direction: column;
            gap: 18px;
        }
        label {
            font-weight: 600;
            color: var(--w1-blue-dark);
            font-size: 1rem;
            margin-bottom: 4px;
        }
        input[type="text"],
        input[type="number"],
        input[type="tel"],
        input[type="email"] {
            padding: 10px;
            border-radius: 7px;
            border: 1.4px solid #cbe9e6;
            font-size: 1rem;
            outline: none;
        }
        input:focus, select:focus {
            border-color: var(--w1-green);
        }
        .radios-group, .radio-inline {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }
        .radio-inline {
            align-items: center;
        }
        .radio-inline label {
            font-weight: 400;
            color: #19504a;
            margin-left: 4px;
            margin-right: 12px;
            font-size: 0.99rem;
        }
        .footer {
            margin-top: 18px;
            text-align: center;
            font-size: 0.94rem;
            color: #78948e;
        }
        button, .cta-whatsapp {
            background: linear-gradient(90deg, var(--w1-green) 25%, var(--w1-blue-light) 100%);
            color: #fff;
            border: none;
            padding: 14px;
            border-radius: 9px;
            font-size: 1.12rem;
            font-weight: 700;
            margin-top: 12px;
            cursor: pointer;
            transition: box-shadow 0.12s;
            box-shadow: 0 2px 8px rgba(51, 224, 203, 0.10);
        }
        button:hover, .cta-whatsapp:hover {
            box-shadow: 0 4px 14px rgba(51, 224, 203, 0.17);
            filter: brightness(1.04);
        }
        .whats-cta {
            margin: 16px 0 0 0;
            text-align: center;
        }
        .cta-whatsapp {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 7px;
            background: #25d366;
            border: none;
            color: #fff;
            font-size: 1.1rem;
            font-weight: 700;
            margin: 0 auto;
            width: 100%;
        }
        .cta-whatsapp svg {
            width: 22px; height: 22px;
            vertical-align: middle;
        }
        @media (max-width: 700px) {
            .container { padding: 18px 6px; }
            h1 { font-size: 1.15rem; }
        }
    </style>
</head>
<body>
    <div id="gtm-body"></div>
<script>fetch("/partials/gtm-body.html")
 .then(r=>r.text()).then(h=>document.getElementById("gtm-body").insertAdjacentHTML('afterbegin',h));</script>

    <div class="container">
        <h1>Consultoria Financeira Empresarial</h1>
        <div class="subheadline">
            Diagnóstico gratuito, individualizado e sem compromisso.<br>
            Soluções sob medida para pequenas e médias empresas.
        </div>
        <form id="leadForm">
            <label for="empresa">Nome da empresa</label>
            <input type="text" id="empresa" name="empresa" required>
            <label>Email</label><input type="email" id="email" required>
            <label>Telefone / WhatsApp</label><input type="tel" id="fone" required>

            <label for="cnpj">CNPJ</label>
            <input type="text" id="cnpj" name="cnpj" required placeholder="00.000.000/0000-00">

            <label for="responsavel">Nome do responsável pelo preenchimento</label>
            <input type="text" id="responsavel" name="responsavel" required>

            <label>Quantidade de funcionários</label>
            <div class="radios-group">
                <div class="radio-inline"><input type="radio" id="func1" name="funcionarios" value="1-5" required><label for="func1">1-5</label></div>
                <div class="radio-inline"><input type="radio" id="func2" name="funcionarios" value="6-10"><label for="func2">6-10</label></div>
                <div class="radio-inline"><input type="radio" id="func3" name="funcionarios" value="11-30"><label for="func3">11-30</label></div>
                <div class="radio-inline"><input type="radio" id="func4" name="funcionarios" value="31-50"><label for="func4">31-50</label></div>
                <div class="radio-inline"><input type="radio" id="func5" name="funcionarios" value="mais de 50"><label for="func5">+50</label></div>
            </div>

            <label>Existe alguém do time responsável exclusivamente pelo setor financeiro?</label>
            <div class="radios-group">
                <div class="radio-inline"><input type="radio" id="fin1" name="responsavel_financeiro" value="Sim" required><label for="fin1">Sim</label></div>
                <div class="radio-inline"><input type="radio" id="fin2" name="responsavel_financeiro" value="Não"><label for="fin2">Não</label></div>
            </div>

            <label>Faturamento mensal médio</label>
            <div class="radios-group">
                <div class="radio-inline"><input type="radio" id="fat1" name="faturamento" value="Até 50.000" required><label for="fat1">Até 50.000</label></div>
                <div class="radio-inline"><input type="radio" id="fat2" name="faturamento" value="Entre 50.000 e 100.000"><label for="fat2">Entre 50.000 e 100.000</label></div>
                <div class="radio-inline"><input type="radio" id="fat3" name="faturamento" value="Entre 100.000 e 500.000"><label for="fat3">Entre 100.000 e 500.000</label></div>
                <div class="radio-inline"><input type="radio" id="fat4" name="faturamento" value="Entre 500.000 e 1.000.000"><label for="fat4">Entre 500.000 e 1.000.000</label></div>
                <div class="radio-inline"><input type="radio" id="fat5" name="faturamento" value="Entre 1.000.000 e 5.000.000"><label for="fat5">Entre 1.000.000 e 5.000.000</label></div>
                <div class="radio-inline"><input type="radio" id="fat6" name="faturamento" value="Acima de 5.000.000"><label for="fat6">Acima de 5.000.000</label></div>
            </div>

            <label for="objetivos">Objetivos financeiros para 2025</label>
            <input type="text" id="objetivos" name="objetivos" required placeholder="Quais principais metas ou desafios da empresa para 2025?">

            <button type="submit">Quero meu Diagnóstico Empresarial</button>
        </form>
        <div class="whats-cta" style="display:none;" id="whatsSuccess">
            <a href="#" class="cta-whatsapp" id="whatsLink" target="_blank">
                <svg fill="none" viewBox="0 0 24 24"><path fill="#fff" d="M16.58 13.79c-.23-.12-1.35-.67-1.56-.74-.21-.08-.36-.12-.51.12-.15.23-.58.74-.71.89-.13.15-.26.17-.48.06-.23-.12-.98-.36-1.87-1.13-.69-.62-1.16-1.39-1.29-1.62-.13-.23-.01-.35.1-.46.11-.12.23-.31.34-.46.12-.15.15-.26.23-.43.08-.17.04-.32-.02-.45-.07-.12-.51-1.23-.7-1.68-.19-.46-.38-.4-.51-.41-.13-.01-.28-.01-.43-.01-.15 0-.4.06-.61.28-.21.22-.8.78-.8 1.9 0 1.12.82 2.2.93 2.36.11.15 1.61 2.45 3.95 3.34.55.19.98.31 1.31.4.55.14 1.04.12 1.43.07.44-.07 1.35-.55 1.54-1.08.19-.53.19-.98.14-1.08-.06-.1-.21-.16-.44-.28zm-4.58 7.21c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14.5C7.01 6.5 4.5 9.01 4.5 12s2.51 5.5 5.5 5.5 5.5-2.51 5.5-5.5-2.51-5.5-5.5-5.5z"/></svg>
                Falar direto no WhatsApp
            </a>
        </div>
        <div class="footer">
            Seus dados estão seguros. Não enviamos spam.<br>
            Consultoria Financeira Empresarial &copy; 2025
        </div>
    </div>
    <script>
/* === CONFIGURAÇÕES === */
const numeroWpp = '5541991937663';
const WEBHOOK   = 'https://primary-production-a61c.up.railway.app/webhook-test/git-hub';  // production URL do n8n
const ORIGEM    = 'Landing PJ';                                // ajuste PF/PJ se copiar

async function enviaLead(dados){
  try{
    await fetch(WEBHOOK,{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify(dados)
    });
  }catch(e){
    console.error('Webhook falhou:',e);
  }
}

document.getElementById('leadForm').addEventListener('submit', async (e)=>{
  e.preventDefault();

  /* --- coleta todos os campos --- */
  const dados={
    origem:        ORIGEM,
    empresa:       document.getElementById('empresa').value,
    cnpj:          document.getElementById('cnpj').value,
    responsavel:   document.getElementById('responsavel').value,
    email:         document.getElementById('email').value,
    telefone:      document.getElementById('fone').value,
    funcionarios:  document.querySelector('input[name="funcionarios"]:checked')?.value || '',
    resp_fin:      document.querySelector('input[name="responsavel_financeiro"]:checked')?.value || '',
    faturamento:   document.querySelector('input[name="faturamento"]:checked')?.value || '',
    objetivos:     document.getElementById('objetivos').value
  };

  /* --- envia ao n8n --- */
  await enviaLead(dados);

  /* --- monta link do WhatsApp --- */
  const mensagem = encodeURIComponent(
    `Olá! Quero agendar um diagnóstico financeiro para minha empresa.\n\n` +
    `Empresa: ${dados.empresa}\nCNPJ: ${dados.cnpj}\n` +
    `Responsável: ${dados.responsavel}\nTel: ${dados.telefone}\n` +
    `Funcionários: ${dados.funcionarios}\nSetor fin.? ${dados.resp_fin}\n` +
    `Faturamento: ${dados.faturamento}\nObjetivos 2025: ${dados.objetivos}`
  );
  const linkWpp = `https://wa.me/${numeroWpp}?text=${mensagem}`;

  /* --- feedback visual --- */
  document.getElementById('leadForm').style.display='none';
  document.getElementById('whatsSuccess').style.display='block';
  document.getElementById('whatsLink').href = linkWpp;
});
</script>
    <div id="cookie-placeholder"></div>
<script>
fetch("/partials/cookie-banner.html")
 .then(r=>r.text()).then(h=>document.getElementById("cookie-placeholder").innerHTML=h);
</script>

</body>
</html>
